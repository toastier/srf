//TODO convert to du pseudo tables
section
  navigation
  .container
      .col-md-12
        form.form-horizontal(novalidate='')
          fieldset
            .form-group.col-xs-12.col-md-6
              label.control-label(for='position') Position
              select#position.form-control(ng-options="position._id as position.name for position in vm.options.positions", ng-change="vm.extractData()", data-ng-model='vm.position', required='')
                option(value="all") --All Positions--
  .container
    .panel-body
      table.table-bordered.table-striped.col-xs-12.col-md-8
        thead
          tr
            th.col-xs-8 Gender
            th.col-xs-4
              span.pull-right Count
        tbody
          tr(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : 'orderBy'")
            td.col-xs-8 {{ item.label }}
            td.col-xs-4
              span.pull-right {{ item.count }}
          tr
            td.col-xs-8 TOTAL
            td.col-xs-4
              span.pull-right {{ vm.eoeData.totalCount }}
    .panel-body
      table.table-bordered.table-striped.col-xs-12.col-md-8
        thead
          tr
            th.col-xs-4 Ethnicity
            th.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : 'orderBy'")
              span.pull-right {{ item.label }}
            th.col-xs-2
              span.pull-right Total
        tbody
          tr(data-ng-repeat="item in vm.eoeData.byEthnicity | toArray | orderBy : 'orderBy'")
            td.col-xs-4 {{ item.label }}
            td.col-xs-2(data-ng-repeat="gender in vm.eoeData.byGender | toArray | orderBy : " +
            "'orderBy'")
              span.pull-right {{ item.counts[gender.code] }}
            td.col-xs-2
              span.pull-right {{ item.counts.totalCount }}
          tr
            td.col-xs-4 TOTAL
            td.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : " +
            "'orderBy'")
              span.pull-right {{ item.count }}
            td.col-xs-2
              span.pull-right {{ vm.eoeData.totalCount }}
          //gender-totals
          // TODO this partial isn't working, why not?
    .panel-body
      table.table-bordered.table-striped.col-xs-12.col-md-8
        thead
          tr
            th.col-xs-4 Race
            td.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : " +
            "'orderBy'")
              span.pull-right {{ item.label }}
            th.col-xs-2
              strong.pull-right Total
        tbody
          tr(data-ng-repeat="item in vm.eoeData.byRace | toArray | orderBy : 'orderBy'")
            td.col-xs-4 {{ item.label }}
            td.col-xs-2(data-ng-repeat="gender in vm.eoeData.byGender | toArray | orderBy : " +
            "'orderBy'")
              span.pull-right {{ item.counts[gender.code] }}
            td.col-xs-2
              span.pull-right {{ item.counts.totalCount }}
          tr
              td.col-xs-4 TOTAL
              td.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : " +
              "'orderBy'")
                  span.pull-right {{ item.count }}
              td.col-xs-2
                  span.pull-right {{ vm.eoeData.totalCount }}
    .panel-body
      table.table-bordered.table-striped.col-xs-12.col-md-8
        thead
          tr
            th.col-xs-4 Disability Status
            th.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : 'orderBy'")
              span.pull-right {{ item.label }}
            th.col-xs-2
              span.pull-right Total
        tbody
          tr(data-ng-repeat="item in vm.eoeData.byDisability | toArray | orderBy : 'orderBy'")
            td.col-xs-4 {{ item.label }}
            td.col-xs-2(data-ng-repeat="gender in vm.eoeData.byGender | toArray | orderBy : " +
            "'orderBy'")
              span.pull-right {{ item.counts[gender.code] }}
            td.col-xs-2
              span.pull-right {{ item.counts.totalCount }}
          tr
            td.col-xs-4 TOTAL
            td.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : " +
            "'orderBy'")
                span.pull-right {{ item.count }}
            td.col-xs-2
                span.pull-right {{ vm.eoeData.totalCount }}
    .panel-body
      table.table-bordered.table-striped.col-xs-12.col-md-8
          thead
              tr
                  th.col-xs-4 Veteran Identification
                  th.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : 'orderBy'")
                      span.pull-right {{ item.label }}
                  th.col-xs-2
                      span.pull-right Total
          tbody
              tr(ng-repeat-start="item in vm.eoeData.byVeteran | toArray | orderBy : " +
              "'orderBy'")
                  td.col-xs-4 {{ item.label }}
                  td.col-xs-2(data-ng-repeat="gender in vm.eoeData.byGender | toArray | orderBy : " +
                  "'orderBy'")
                      span.pull-right {{ item.counts[gender.code] }}
                  td.col-xs-2
                      span.pull-right {{ item.counts.totalCount }}
              tr(ng-repeat-start="class in item.classes | toArray | orderBy : " +
              "'orderBy'")
                  td.col-xs-4
                      span(style="padding-left:20px") {{ class.label }}
                  td.col-xs-2(data-ng-repeat="gender in vm.eoeData.byGender | toArray | orderBy : " +
                  "'orderBy'")
                      span.pull-right {{ class.counts[gender.code] }}
                  td.col-xs-2
                      span.pull-right {{ class.counts.totalCount }}
              tr(ng-repeat-end, ng-hide="true")
              tr(ng-repeat-end, ng-hide="true")
              tr
                  td.col-xs-4 TOTAL
                  td.col-xs-2(data-ng-repeat="item in vm.eoeData.byGender | toArray | orderBy : " +
                  "'orderBy'")
                      span.pull-right {{ item.count }}
                  td.col-xs-2
                      span.pull-right {{ vm.eoeData.totalCount }}



