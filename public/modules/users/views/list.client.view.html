<h1>Users</h1><div ng-init="vm.activate()"><div class="list-group collapsible"><form name="vm.forms.userForms.{{ user._id }}" ng-repeat="user in vm.paginatedUsers"><div class="list-group-item"><div ng-click="user.isCollapsed = !user.isCollapsed" class="list-group-item-heading"><div class="row"><div class="col-md-9"><h4><button ng-click="vm.saveUser(user)" ng-show="vm.forms.userForms[user._id].$dirty" class="btn btn-xs no-text btn-save"></button>&nbsp;<button ng-click="vm.undoUser(user)" ng-show="vm.forms.userForms[user._id].$dirty" class="btn btn-xs no-text btn-undo"></button>&nbsp; {{ user.lastName + ', ' + user.firstName }}<span ng-repeat="role in user.roles">&nbsp;<div class="btn btn-default btn-xs">{{ role }}</div></span></h4></div><div class="col-md-3 text-right"><h5>Added: {{ user.created | standardDate }}</h5><button ng-click="vm.masquerade(user)" class="btn btn-workflow">Masquerade</button></div></div></div><div collapse="user.isCollapsed" class="list-group-item-text"><div class="row"><div class="col-md-12"><div class="row"><div class="col-md-4"><div class="input-group form-group"><div class="input-group-addon">First Name</div><input ng-model="user.firstName" class="form-control"/></div></div><div class="col-md-4"><div class="input-group form-group"><div class="input-group-addon">Last Name</div><input ng-model="user.lastName" class="form-control"/></div></div><div class="col-md-4"><div class="input-group form-group"><div class="input-group-addon">Username</div><input ng-model="user.username" class="form-control"/></div></div></div><div class="row"><div class="col-md-4"><div class="input-group form-group"><div class="input-group-addon">Email</div><input ng-model="user.email" class="form-control"/></div></div><div class="col-md-8"><div class="input-group form-group"><div class="input-group-addon">Roles</div><ui-select multiple="multiple" ng-model="user.roles"><ui-select-match placeholder="choose roles">{{$item}}</ui-select-match><ui-select-choices repeat="role in vm.options.roles">{{ role }}</ui-select-choices></ui-select></div></div></div></div></div></div></div></form></div><div ng-show="!!vm.paginatedUsers.length" class="row"><div class="col-xs-12"><pagination boundary-links="true" page="vm.paginator.currentPage" items-per-page="vm.paginator.itemsPerPage" max-size="vm.paginator.maxSize" total-items="vm.matchedUsers.length" num-pages="vm.paginator.totalPages"></pagination></div></div></div>